import{q as f,x as p,o as d,a as u,f as t,C as N,G as _,F as $,p as C,t as h,u as a,L as j,E as S,e as b,K as w,N as E,c as M,b as F,Q as R,k,w as H,T as z,h as q}from"./index.155d804e.js";import{H as G}from"./HeadBannerComponent.0cebd83b.js";import{F as K,_ as J}from"./FooterComponent.944fdd9d.js";import{_ as Q}from"./ViewProductComponent.vue_vue_type_script_setup_true_lang.eb4b16bb.js";import".prisma/client/index-browser";const W={class:"navbar bg-base-100"},X={class:"navbar-start"},Y={class:"dropdown"},Z=t("label",{tabindex:"0",class:"btn btn-ghost lg:hidden"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h8m-8 6h16"})])],-1),tt={tabindex:"0",class:"menu menu-compact dropdown-content mt-3 p-2 shadow bg-base-100 rounded-box w-52"},et=t("a",{class:"font-bold"},"Orders",-1),st=[et],lt=t("a",{class:"font-bold"},"Products",-1),ot=[lt],nt=t("a",{class:"font-bold"},"Users",-1),at=[nt],it=t("a",{class:"btn btn-ghost normal-case text-xl"},"Admin Section",-1),rt={class:"navbar-center hidden lg:flex"},dt={class:"menu menu-horizontal p-0"},ct=t("a",{class:"font-bold"},"Orders",-1),ut=[ct],pt=t("a",{class:"font-bold"},"Products",-1),ht=[pt],mt=t("a",{class:"font-bold"},"Users",-1),_t=[mt],gt=t("div",{class:"navbar-end"},[t("a",{class:"btn"},[t("svg",{class:"w-6 h-6 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 15l-3-3m0 0l3-3m-3 3h8M3 12a9 9 0 1118 0 9 9 0 01-18 0z"})]),t("span",null,"return")])],-1),bt=f({__name:"AdminNavbarComponent",setup(v){return p(G),(l,e)=>(d(),u("div",null,[t("div",W,[t("div",X,[t("div",Y,[Z,t("ul",tt,[t("li",{onClick:e[0]||(e[0]=n=>l.$emit("page-change",{target:"Orders"}))},st),t("li",{onClick:e[1]||(e[1]=n=>l.$emit("page-change",{target:"Products"}))},ot),t("li",{onClick:e[2]||(e[2]=n=>l.$emit("page-change",{target:"Users"}))},at)])]),it]),t("div",rt,[t("ul",dt,[t("li",{onClick:e[3]||(e[3]=n=>l.$emit("page-change",{target:"Orders"}))},ut),t("li",{onClick:e[4]||(e[4]=n=>l.$emit("page-change",{target:"Products"}))},ht),t("li",{onClick:e[5]||(e[5]=n=>l.$emit("page-change",{target:"Users"}))},_t)])]),gt])]))}}),ft={key:0,class:"rounded bg-gray-800 h-fit p-4 w-1/1 m-5 lg:m-12 min-height-600"},vt={class:"flex justify-between mb-5"},wt=t("p",{class:"text-2xl sm:text-4xl m-2 text-gray-200 font-bold"},"Orders",-1),xt=t("option",{value:"ALL"},"All (26)",-1),yt=t("option",{value:"INCOMING"},"Incoming (18)",-1),kt=t("option",{value:"COMPLETED"},"Delivered (8)",-1),$t=[xt,yt,kt],Ct=N('<div class="overflow-x-auto w-full max-height-500"><table class="table w-full"><thead class="relative"><tr class="sticky top-0"><th></th><th>Customer</th><th>Order</th><th>Date of purchase</th><th>Order Total</th><th>Status</th><th>view</th><th>transaction</th></tr></thead><tbody></tbody></table></div>',1),U=f({__name:"OrderComponent",setup(v){function l(){}return(e,n)=>(d(),u("div",ft,[t("span",vt,[wt,t("select",{name:"",id:"ordersFilter",class:"select sm:select-lg",onChange:n[0]||(n[0]=m=>void 0)},$t,32)]),Ct]))}}),It={key:0,class:"rounded bg-gray-800 h-fit p-4 w-1/1 m-5 lg:m-12 min-height-600"},Pt=t("span",{class:"flex justify-between mb-5"},[t("p",{class:"text-2xl sm:text-4xl m-2 text-gray-200 font-bold"},"Users"),t("button",{class:"btn"},"Add New")],-1),At={class:"overflow-x-auto w-full max-height-500"},Dt={class:"table w-full"},Ut=t("thead",{class:"relative"},[t("tr",{class:"sticky top-0"},[t("th",null,"ID"),t("th",null,"FirstName"),t("th",null,"LastName"),t("th",null,"Email"),t("th",{class:"w-10"})])],-1),Nt={class:"hover"},Mt=t("th",{class:"flex gap-x-2 justify-end"},[t("button",{class:"btn btn-sm btn-primary"},"Edit"),t("button",{class:"btn btn-sm btn-error"},"Delete")],-1),Bt=f({__name:"UserCRUD",setup(v){let l=p([]);return _.getAllUsers().then(e=>{l.value=e}),(e,n)=>(d(),u("div",It,[Pt,t("div",At,[t("table",Dt,[Ut,t("tbody",null,[(d(!0),u($,null,C(a(l),m=>(d(),u("tr",Nt,[t("th",null,h(m.id),1),t("th",null,h(m.firstName),1),t("th",null,h(m.lastName),1),t("th",null,h(m.email),1),Mt]))),256))])])])]))}}),Ot={key:0,class:"rounded bg-gray-800 h-fit p-4 w-1/1 m-5 lg:m-12 min-height-600"},Tt={class:"flex justify-between mb-5"},Vt=t("p",{class:"text-2xl sm:text-4xl m-2 text-gray-200 font-bold"},"Products",-1),Lt={class:"overflow-x-auto w-full max-height-500"},jt={class:"table w-full"},St=t("thead",{class:"relative"},[t("tr",{class:"sticky top-0"},[t("th",null,"ID"),t("th",null,"Name"),t("th",null,"Price"),t("th",null,"Stock"),t("th",null,"Rating"),t("th",{class:"w-10"})])],-1),Et={class:"hover:bg-gray-500"},Ft={class:"hover cursor-pointer"},Rt={class:"flex gap-x-2 justify-end"},Ht=["onClick"],zt=t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1),qt=[zt],Gt=["onClick"],Kt=t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})],-1),Jt=[Kt],Qt=t("button",{class:"btn btn-sm btn-error"},[t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})])],-1),Wt=t("input",{type:"checkbox",id:"create-product",class:"modal-toggle"},null,-1),Xt={class:"modal modal-bottom"},Yt={class:"modal-box w-full rounded"},Zt=t("h2",{class:"text-2xl lg:text-4xl font-extrabold text-center text-gray-800"},"Create Product",-1),te={class:"grid grid-cols-4 grid-flow-row gap-5"},ee=N('<div class="form-control col-span-full h-fit my-5"><label class="label"><span class="label-text font-bold text-gray-700">Images</span></label><div class="flex gap-x-2 bg-gray-300 p-3 rounded w-full lg:w-fit m-auto lg:flex-row flex-col"><div class=""><label class="label"><span class="label-text font-semibold text-gray-700">Thumbnail</span></label><input type="file" id="thumbnail" class="file-input w-full"></div><div class=""><label class="label"><span class="label-text font-semibold text-gray-700">Image 1</span></label><input type="file" id="img_1" class="file-input w-full"></div><div class=""><label class="label"><span class="label-text font-semibold text-gray-700">Image 2</span></label><input type="file" id="img_2" class="file-input w-full"></div><div class=""><label class="label"><span class="label-text font-semibold text-gray-700">Image 3</span></label><input type="file" id="img_3" class="file-input w-full"></div></div></div>',1),se={class:"form-control w-full col-span-full sm:col-span-2"},le=t("label",{class:"label"},[t("span",{class:"label-text"},"Name")],-1),oe={class:"form-control w-full col-span-full sm:col-span-2"},ne=t("label",{class:"label"},[t("span",{class:"label-text"},"Description")],-1),ae={class:"form-control w-full col-span-full sm:col-span-2"},ie=t("label",{class:"label"},[t("span",{class:"label-text"},"Price (JMD)")],-1),re={class:"form-control w-full col-span-full sm:col-span-2"},de=t("label",{class:"label"},[t("span",{class:"label-text"},"Amount In Stock")],-1),ce={class:"form-control w-full col-span-full sm:col-span-2"},ue=t("label",{class:"label"},[t("span",{class:"label-text"},"Category")],-1),pe=t("option",{disabled:"",selected:""},"Choose a Category",-1),he=["value"],me=t("label",{for:"view-edit-product",id:"modalToggle",class:"btn btn-sm btn-error"},"cancel",-1),_e=t("input",{type:"checkbox",id:"display-product",class:"modal-toggle"},null,-1),ge={for:"display-product",class:"modal cursor-pointer"},be={class:"modal-box w-11/12 max-w-5xl relative",for:""},fe=f({__name:"ProductCRUD",setup(v){const l=new j;let e=p([]),n=p("0"),m=p(0),x=p([]);_.getAllProducts().then(i=>{e.value=i});let I=p({id:0,name:"",description:"",price:0,stock:0,categoryId:0,createdAt:new Date,updatedAt:new Date,rating:0,thumbnail:""}),c=p({id:0,name:"",description:"",price:0,stock:0,categoryId:0,createdAt:new Date,updatedAt:new Date,rating:0,thumbnail:""}),P=p(!1),A=p(!1);S(async()=>{x.value=await _.getAllCategories(),console.log(x.value)});function B(){let i=document.getElementById("create-product");P.value=!1,A.value=!1,i.click()}function O(i){let o=document.getElementById("modalToggle");P.value=!0,A.value=!1,I.value=i,console.log(I.value),o.click()}function T(i){m.value++,n.value=String(i),document.getElementById("display-product").click()}function V(){let i;l.info("Creating new product: "),l.info(c.value),_.createProduct(c.value).then(r=>{l.info("Created new product: "),l.info(r),i=r.id});let o=document.querySelectorAll('input[type="file"]');for(let r=0;r<o.length;r++){console.log(o[r].files);const D=new FileReader;D.onload=y=>{_.imageUpload(o[r].files[0].name,s(y.target.result)).then(g=>{l.info("Response status from image upload: "+g.status),l.info("--------------------------------------------------"),o[r].files[0].id==="thumbnail"?_.addImageToProduct(i,g.data.url,!0).then(L=>{l.info("Updated thumbnail for product: ["+i+`] 
Image url: `+g.data.url)}):_.addImageToProduct(i,g.data.url,!1).then(L=>{l.info("Added image to product: ["+i+`] 
Image url: `+g.data.url)})})};try{D.readAsDataURL(o[r].files[0])}catch(y){console.log(y),console.log("no file selected")}}function s(r){return r.replace("data:","").replace(/^.+,/,"")}}return(i,o)=>(d(),u("div",Ot,[t("span",Tt,[Vt,t("button",{class:"btn",onClick:o[0]||(o[0]=s=>B())},"Add New")]),t("div",Lt,[t("table",jt,[St,t("tbody",Et,[(d(!0),u($,null,C(a(e),s=>(d(),u("tr",Ft,[t("th",null,h(s.id),1),t("th",null,h(s.name),1),t("th",null,h(s.price),1),t("th",null,h(s.stock),1),t("th",null,h(s.rating),1),t("th",Rt,[t("button",{class:"btn btn-sm btn-info",onClick:r=>T(s.id)},qt,8,Ht),t("button",{class:"btn btn-sm",onClick:r=>O(s)},Jt,8,Gt),Qt])]))),256))])])]),Wt,t("div",Xt,[t("div",Yt,[Zt,t("div",te,[ee,t("div",se,[le,b(t("input",{type:"text","onUpdate:modelValue":o[1]||(o[1]=s=>a(c).name=s),placeholder:"Type here",class:"input input-bordered w-full"},null,512),[[w,a(c).name]])]),t("div",oe,[ne,b(t("textarea",{"onUpdate:modelValue":o[2]||(o[2]=s=>a(c).description=s),class:"textarea h-24 textarea-bordered w-full",placeholder:"Type here"},null,512),[[w,a(c).description]])]),t("div",ae,[ie,b(t("input",{"onUpdate:modelValue":o[3]||(o[3]=s=>a(c).price=s),type:"number",placeholder:"Type here",class:"input input-bordered w-full"},null,512),[[w,a(c).price]])]),t("div",re,[de,b(t("input",{type:"number","onUpdate:modelValue":o[4]||(o[4]=s=>a(c).stock=s),placeholder:"Type here",class:"input input-bordered w-full"},null,512),[[w,a(c).stock]])]),t("div",ce,[ue,b(t("select",{class:"select select-bordered w-full max-w-xs","onUpdate:modelValue":o[5]||(o[5]=s=>a(c).categoryId=s)},[pe,(d(!0),u($,null,C(a(x),s=>(d(),u("option",{value:s.id},h(s.name),9,he))),256))],512),[[E,a(c).categoryId]])])]),t("div",{class:"modal-action"},[me,t("label",{for:"view-edit-product",class:"btn btn-sm btn-success",onClick:V},"create")])])]),_e,t("label",ge,[t("label",be,[a(n)!="0"?(d(),M(Q,{key:a(m),displayOnly:!0,productId:a(n)},null,8,["productId"])):F("",!0)])])]))}}),ve=f({__name:"AdminView",setup(v){function l(n){switch(console.log("transitionHandler"),console.log(n),n.target){case"Orders":e.value=U;break;case"Products":e.value=fe;break;case"Users":e.value=Bt;break}}let e=R(U);return(n,m)=>(d(),u("section",null,[k(bt,{onPageChange:l}),k(z,{name:"slide-fade",mode:"out-in"},{default:H(()=>[(d(),M(q(a(e))))]),_:1}),k(K)]))}});const Ce=J(ve,[["__scopeId","data-v-781ed0fb"]]);export{Ce as default};
