import{q,x as r,o as p,a as m,k as h,f as e,w as N,T as V,u as s,e as i,K as u,J as k,t as x,b,d as U,D as H,G as R,A as O,B as T}from"./index.50e938cf.js";import{N as j}from"./NavbarComponent.d6ac1be9.js";import{F,_ as z}from"./FooterComponent.8e639d36.js";import".prisma/client/index-browser";var S=(d=>(d.ADMIN="ADMIN",d.USER="USER",d))(S||{});const l=d=>(O("data-v-3308de0f"),d=d(),T(),d),L={class:"container mx-auto mt-10 pb-10"},M={class:"flex flex-wrap justify-center"},Z={class:"w-full max-w-lg"},$={key:0,class:"flex flex-col break-words bg-gray-200 border rounded lg:rounded-lg shadow-md"},G=l(()=>e("div",{class:"font-semibold bg-gray-800 text-gray-200 rounded lg:rounded-t-lg lg:rounded-b-none py-3 px-6 mb-0"},[e("h1",{class:"text-center"},"Sign Up")],-1)),J={class:"w-full p-6"},K={class:"flex flex-wrap mb-6"},Y=l(()=>e("label",{for:"first_name",class:"block text-gray-700 text-sm font-bold mb-2"}," First Name ",-1)),Q=l(()=>e("label",{for:"last_name",class:"block text-gray-700 text-sm font-bold mb-2"}," Last Name ",-1)),W={class:"flex flex-wrap mb-6"},X=l(()=>e("label",{for:"email",class:"block text-gray-700 text-sm font-bold mb-2"}," Email Address ",-1)),ee={class:"flex flex-wrap mb-6"},te=l(()=>e("label",{for:"password",class:"block text-gray-700 text-sm font-bold mb-2"}," Password ",-1)),se=l(()=>e("label",{for:"password_confirmation",class:"block text-gray-700 text-sm font-bold mb-2"}," Re-enter Password ",-1)),ae={class:"text-red-500 text-xs italic"},oe={class:"flex flex-wrap mb-6"},le=l(()=>e("label",{for:"phone_number",class:"block text-gray-700 text-sm font-bold mb-2"}," Phone Number ",-1)),ne={class:"flex flex-wrap"},re=l(()=>e("label",{for:"date_of_birth",class:"block text-gray-700 text-sm font-bold mb-2"}," Date of Birth ",-1)),de={class:"text-red-500 text-md italic"},ie={class:"flex items-center justify-end"},ue={key:0,class:"bg-gray-200 h-fit rounded-lg p-5"},ce={key:0},fe=l(()=>e("p",{class:"font-bold text-3xl text-center text-gray-800"},"Email Verification",-1)),pe={class:"font-medium text-lg my-3 text-center text-gray-700"},me={class:"font-medium"},_e={class:"flex justify-center"},he={class:"flex justify-between items-center"},xe={class:"text-red-500 text-md italic"},be={key:1},we=l(()=>e("p",{class:"font-bold text-3xl text-center text-green-700"},"Email Verified!",-1)),ge={class:"flex justify-center items-center mt-5"},ve=q({__name:"SignUpView",setup(d){H();let c=r(""),f=r(""),g=r(!1),v=r(!1),_=r(""),y=r(""),w=r(!1);r("");let t=r({firstName:"",lastName:"",email:"",passwordHash:"",phoneNumber:"",dateOfBirth:new Date,gender:"RATHER_NOT_SAY",createdAt:new Date,updatedAt:new Date,id:0,role:S.USER});function A(n){return n.match(/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)?!0:(c.value="Invalid email format",!1)}function D(n){return!!n.match(/^[a-zA-Z0-9!@#\$%\^\&*\)\(+=._-]{8,}$/)}function B(n){return!!n.match(/^(\+\d{1,2}\s)?\(?\d{3}\)?[\s.-]?\d{3}[\s.-]?\d{4}$/)}function C(){return t.value.email===""||t.value.passwordHash===""||f.value===""||t.value.firstName===""||t.value.lastName===""||t.value.phoneNumber===""||t.value.dateOfBirth===null?(c.value="Please fill out all fields",!1):t.value.passwordHash!==f.value?(c.value="Passwords do not match",!1):B(t.value.phoneNumber)?A(t.value.email)?D(t.value.passwordHash)?!0:(c.value="Password must be at least 8 characters long and contain at least one uppercase letter, one lowercase letter and one number",!1):(c.value="Invalid email format",!1):(c.value="Invalid phone number format",!1)}async function E(){C()?g.value=!0:console.log("Form is not valid")}async function I(){{let n=await R.signUp(t.value);n.status?w.value=!0:y.value=n.message}}async function P(){v.value=!0}return(n,a)=>(p(),m("section",null,[h(j),e("div",L,[e("div",M,[e("div",Z,[h(V,{name:"fade",mode:"out-in",appear:"",onAfterLeave:P},{default:N(()=>[s(g)?b("",!0):(p(),m("div",$,[G,e("div",J,[e("div",K,[Y,i(e("input",{class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline",id:"first_name",type:"text",placeholder:"First Name","onUpdate:modelValue":a[0]||(a[0]=o=>s(t).firstName=o),required:""},null,512),[[u,s(t).firstName]]),Q,i(e("input",{class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline",id:"last_name",type:"text",placeholder:"Last Name","onUpdate:modelValue":a[1]||(a[1]=o=>s(t).lastName=o),required:""},null,512),[[u,s(t).lastName]])]),e("div",W,[X,i(e("input",{class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"email",type:"text",placeholder:"email@example.com","onUpdate:modelValue":a[2]||(a[2]=o=>s(t).email=o),required:""},null,512),[[u,s(t).email]])]),e("div",ee,[te,i(e("input",{class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline",id:"password",type:"password",placeholder:"******************","onUpdate:modelValue":a[3]||(a[3]=o=>s(t).passwordHash=o),required:""},null,512),[[u,s(t).passwordHash]]),se,i(e("input",{class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline",id:"password_confirmation",type:"password",placeholder:"******************","onUpdate:modelValue":a[4]||(a[4]=o=>k(f)?f.value=o:f=o),required:""},null,512),[[u,s(f)]]),e("p",ae,x(s(t).passwordHash===s(f)?"":"Passwords do not match"),1)]),e("div",oe,[le,i(e("input",{class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline",id:"phone_number",type:"text",placeholder:"(123) 456-7890","onUpdate:modelValue":a[5]||(a[5]=o=>s(t).phoneNumber=o),required:""},null,512),[[u,s(t).phoneNumber]])]),e("div",ne,[re,i(e("input",{class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline",id:"date_of_birth",type:"date",placeholder:"Date of Birth","onUpdate:modelValue":a[6]||(a[6]=o=>s(t).dateOfBirth=o),required:""},null,512),[[u,s(t).dateOfBirth]])]),e("p",de,x(s(c)),1),e("div",ie,[e("button",{class:"btn btn-info",onClick:a[7]||(a[7]=o=>E())}," Register ")])])]))]),_:1}),h(V,{name:"fade",mode:"out-in"},{default:N(()=>[s(v)?(p(),m("div",ue,[s(w)?b("",!0):(p(),m("span",ce,[fe,e("p",pe,[U("A 5 digit Verification code was just sent to "),e("span",me,x(s(t).email),1),U(" , check your email and enter the code here to continue the sign-up process")]),e("span",_e,[i(e("input",{type:"text","onUpdate:modelValue":a[8]||(a[8]=o=>k(_)?_.value=o:_=o),class:"input input-ghost border-gray-800"},null,512),[[u,s(_)]])]),e("span",he,[e("p",xe,x(s(y)),1),e("button",{class:"btn btn-info",onClick:I},"Verify")])])),s(w)?(p(),m("span",be,[we,e("span",ge,[e("button",{class:"btn",onClick:a[9]||(a[9]=()=>{})},"GO TO login")])])):b("",!0)])):b("",!0)]),_:1})])])]),h(F)]))}});const Ue=z(ve,[["__scopeId","data-v-3308de0f"]]);export{Ue as default};
